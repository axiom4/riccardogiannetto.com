<div class="site-content">
  @if (loading) {
    <div class="loading-container">
      <p>Caricamento post in corso...</p>
    </div>
  } @else if (error) {
    <div class="error-container">
      <h2>Ooops!</h2>
      <p>{{ error }}</p>
      <a routerLink="/blog" class="back-link"
        >&larr; Torna alla lista dei post</a
      >
    </div>
  } @else if (post) {
    <article class="post-detail">
      <header class="entry-header">
        <h1 class="entry-title">{{ post.title }}</h1>
        <div class="entry-meta">
          <span class="posted-on">{{
            post.created_at | date: "longDate"
          }}</span>
          @if (post.author) {
            <span class="byline"> by {{ post.author.username }}</span>
          }
        </div>
      </header>

      @if (post.image) {
        <div class="post-featured-image">
          <img
            [src]="getFeaturedImageUrl(post.image)"
            [alt]="post.title"
            loading="eager"
          />
        </div>
      }

      <!-- Il contenuto del body Ã¨ reso come HTML sicuro -->
      <div class="entry-content" [innerHTML]="parsedBody"></div>

      <footer class="entry-footer">
        <a routerLink="/blog" class="back-link">&larr; Torna al Blog</a>
      </footer>
    </article>
  }
</div>
